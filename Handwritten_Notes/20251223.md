# 書報討論手寫筆記

## 學生
碩資工一甲 11463103 林傳勝

## 日期
2025年12月23日

## 講者
台北大學電機系 宋啟嘉 特聘教授

## 題目
Ultra Lightweight Dehaze Methods for Robot Vision Using High-Levell Synthesis

---

## 筆記內容

### 一、FPGA在AI時代的價值

**為何使用FPGA？**
- Amazon雲端25%運算使用FPGA（非GPU）
- **關鍵優勢：功耗僅GPU的1/10**
- 價格與NVIDIA A6000相當（約20萬台幣）
- 適合大規模雲端部署（省電費）

---

### 二、高階合成(HLS)技術

**核心概念：**
- 用C/C++描述硬體行為 → 自動合成RTL
- 工具：Vitis HLS (Xilinx推薦)

**實證效果（2011-2013案例）：**
- MAP decoder：HLS比手寫Verilog更快更小
- QRD運算：Verilog專家12週 vs HLS專家1週

**四大名詞：**
1. **Loop Unrolling** - 迴圈展開（犧牲面積換速度）
2. **Array Partition** - 陣列分割（解決記憶體瓶頸）
3. **Pipeline** - 管線化（提高吞吐量）
4. **Resource Allocation** - 選擇運算器類型

**HLS限制：**
- 不支援：雙重指標、struct、標準函式庫
- 需自行用基本C語法重寫

---

### 三、研究核心突破

**發現：**
- AI模型只需 **PSR ≥ 18 dB**（人眼需30 dB）

**硬體現實：**
- 特斯拉Model 3：3顆NPU（2主1備投票機制）
- NPU被YOLO等模型佔用
- **前處理只能用CPU的5%資源**

**設計哲學：**
- 捨棄：開根號、log、sRGB轉換
- 採用：查表法(LUT)、HSV色彩空間
- 目標：**夠用就好，不追求完美**

---

### 四、三大研究成果

#### 去霧演算法（Dehazing）

**技術路線：**
- 基於DCP(Dark Channel Prior, 2009)
- 極度量化 + 查表法

**性能對比：**
```
傳統DCP:    0.3 FPS
最新NAP:    2.46 FPS
宋教授研究:  384 FPS
```

**YOLO辨識率提升：**
- 原始（無霧）：37.5%
- 濃霧(β=3.0)：26.3% ⬇
- **去霧後：34.2% ⬆（恢復8%）**

**硬體資源：**
- Zynq-7000系列
- 僅用6000+ LUTs（<6%資源）

---

#### 低光增強（Low-Light Enhancement）

**技術特點：**
- 使用HSV色彩空間（非RGB）
- PSR目標：15-18 dB
- FPS: 60+

**資料集問題解決：**
- YOLO訓練集無暗光影像
- 用GAN生成暗光資料集
- 對YOLOv7/v12均有效

---

#### 水下影像增強

**應用場景：**
- 潛水艇、水下無人載具
- 魚雷導引系統

**性能：**
- 比TMTN(2025最新)快**200倍**
- 效果相當但極輕量

**挑戰：**
- GAN生成水下影像困難（仍在研究）

---

### 五、AI vs 傳統演算法

| 比較項目 | AI深度學習 | 傳統算法+HLS |
|---------|-----------|-------------|
| 模型大小 | 數GB | <10 MB (優) |
| 運算需求 | GPU | CPU 5% (優) |
| 功耗 | 高 | 極低 (優) |
| 泛化能力 | 受限訓練集 | 物理模型 (優) |
| 部署成本 | GPU比機器人貴 | 嵌入式CPU (優) |

**結論：**
- AI模型：辨識率高但資源需求大
- 傳統算法：前處理輕量化，釋放NPU資源

---

### 六、AI時代的工程教育

**教學調整：**
- 鼓勵使用AI工具（Cursor、GitHub Copilot）
- 作業難度提高（防AI秒解）
- 培養**問題解決能力**非背誦

**未來工程師：**
> 管理「4位工程師 + 3個AI Agent」  
> - Agent 1: AI秘書  
> - Agent 2: AI程式設計師  
> - Agent 3: 專案協調AI

**就業建議：**
- 研究所題目 ≠ 工作內容
- 重點：coding、文獻閱讀、專案執行
- **會用AI的工程師生產力更高**

---

### 七、結論

1. **FPGA+HLS是低功耗AI的關鍵路徑**
2. **傳統演算法未過時** - 找對應用場景
3. **PSR 18 dB足夠AI使用**（非人眼標準30 dB）
4. **極小代價提升辨識率**（CPU 5%資源即可）

---


## 收穫與反思

這場演講打破了「AI萬能」的迷思，證明傳統演算法在**邊緣運算**仍有不可取代的價值。特別是「PSR 18 dB足夠AI使用」的洞察，讓我理解到**工程設計要考慮實際需求**，而非盲目追求理論最佳值。

HLS技術讓硬體開發門檻降低，配合AI工具輔助，未來FPGA應用會更普及。對於想從事嵌入式AI的同學，這是很好的技術方向。